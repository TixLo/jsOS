<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>jsOS</title>
        <script type="text/javascript" src="public/js/asm_compiler/asm_compiler.js"></script>
        <script type="text/javascript" src="public/js/asm_compiler/asm_utils.js"></script>
        <script type="text/javascript" src="public/js/asm_compiler/asm_mov.js"></script>
        <script type="text/javascript" src="public/js/asm_sources/hello.asm.js"></script>
        <script type="text/javascript" src="public/js/canvas/canvas.js"></script>
        <script type="text/javascript" src="public/js/device_layout.js"></script>
        <link rel='stylesheet' href='public/css/style.css' />
    </head>
    <body onload="init()">
        <canvas id='device' width="800" height="500"></canvas>
        
    </body>
    <script>
        function init() {
            var sources = hello();
            console.log(sources);
            var data = asm_compile(sources);

            for (var i=0 ; i<200 ; i++)
                data.push('00');

            var addr = {
                start: 0,
                focus_start: 3,
                focus_end: 5,
                mem: data
            };

            draw_device('device', device_layout(), addr);
        }
    </script>
</html>
